{"version":3,"file":"domq.js","sources":["../src/d-class.js","../src/vars.js","../src/utils.js","../src/core.js","../src/event.js","../src/index.js"],"sourcesContent":["// Class D\r\nvar D = function (selector, context) {\r\n    return new D.fn.init(selector, context);\r\n}\r\n\r\nexport default D;","var emptyArray = [],\r\n  concat = emptyArray.concat,\r\n  filter = emptyArray.filter,\r\n  slice = emptyArray.slice,\r\n  document = window.document,\r\n  elementDisplay = {},\r\n  classCache = {},\r\n  cssNumber = {\r\n    'column-count': 1,\r\n    'columns': 1,\r\n    'font-weight': 1,\r\n    'line-height': 1,\r\n    'opacity': 1,\r\n    'z-index': 1,\r\n    'zoom': 1\r\n  },\r\n  fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\r\n  singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\r\n  tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\r\n  rootNodeRE = /^(?:body|html)$/i,\r\n  capitalRE = /([A-Z])/g,\r\n\r\n  // special attributes that should be get/set via method calls\r\n  methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\r\n\r\n  adjacencyOperators = ['after', 'prepend', 'before', 'append'],\r\n  dimensions= ['width', 'height'],\r\n\r\n  table = document.createElement('table'),\r\n  tableRow = document.createElement('tr'),\r\n  containers = {\r\n    'tr': document.createElement('tbody'),\r\n    'tbody': table,\r\n    'thead': table,\r\n    'tfoot': table,\r\n    'td': tableRow,\r\n    'th': tableRow,\r\n    '*': document.createElement('div')\r\n  },\r\n  simpleSelectorRE = /^[\\w-]*$/,\r\n  class2type = {},\r\n  toString = class2type.toString,\r\n  tempParent = document.createElement('div'),\r\n  propMap = {\r\n    'tabindex': 'tabIndex',\r\n    'readonly': 'readOnly',\r\n    'for': 'htmlFor',\r\n    'class': 'className',\r\n    'maxlength': 'maxLength',\r\n    'cellspacing': 'cellSpacing',\r\n    'cellpadding': 'cellPadding',\r\n    'rowspan': 'rowSpan',\r\n    'colspan': 'colSpan',\r\n    'usemap': 'useMap',\r\n    'frameborder': 'frameBorder',\r\n    'contenteditable': 'contentEditable'\r\n  },\r\n  isArray = Array.isArray || function (arg) {\r\n    return Object.prototype.toString.call(arg) === '[object Array]';\r\n  },\r\n  // Using in Event\r\n  handlers = {},\r\n  specialEvents = {\r\n    click: 'MouseEvents',\r\n    mousedown: 'MouseEvents',\r\n    mouseup: 'MouseEvents',\r\n    mousemove: 'MouseEvents',\r\n  },\r\n  focusinSupported = 'onfocusin' in window,\r\n  focus = { focus: 'focusin', blur: 'focusout' },\r\n  hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' },\r\n  ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\r\n  eventMethods = {\r\n    preventDefault: 'isDefaultPrevented',\r\n    stopImmediatePropagation: 'isImmediatePropagationStopped',\r\n    stopPropagation: 'isPropagationStopped'\r\n  };\r\n\r\nexport {\r\n  emptyArray,\r\n  concat,\r\n  filter,\r\n  slice,\r\n  document,\r\n  elementDisplay,\r\n  classCache,\r\n  cssNumber,\r\n  fragmentRE,\r\n  singleTagRE,\r\n  tagExpanderRE,\r\n  rootNodeRE,\r\n  capitalRE,\r\n  methodAttributes,\r\n  adjacencyOperators,\r\n  dimensions,\r\n  containers,\r\n  simpleSelectorRE,\r\n  class2type,\r\n  toString,\r\n  tempParent,\r\n  propMap,\r\n  isArray,\r\n  handlers,\r\n  specialEvents,\r\n  focusinSupported,\r\n  focus,\r\n  hover,\r\n  ignoreProperties,\r\n  eventMethods,\r\n}\r\n\r\n\r\n","import D from './d-class';\r\n\r\nimport {\r\n  filter,\r\n  slice,\r\n  document,\r\n  elementDisplay,\r\n  classCache,\r\n  cssNumber,\r\n  class2type,\r\n  toString\r\n} from './vars';\r\n\r\nfunction type(obj) {\r\n  return obj == null\r\n    ? String(obj)\r\n    : class2type[toString.call(obj)] || \"object\"\r\n}\r\n\r\nfunction isFunction(value) {\r\n  return type(value) == \"function\"\r\n}\r\n\r\nfunction isWindow(obj) {\r\n  return obj != null && obj == obj.window\r\n}\r\n\r\nfunction isDocument(obj) {\r\n  return obj != null && obj.nodeType == obj.DOCUMENT_NODE\r\n}\r\n\r\nfunction isObject(obj) {\r\n  return type(obj) == \"object\"\r\n}\r\n\r\nfunction isPlainObject(obj) {\r\n  return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\r\n}\r\n\r\nfunction likeArray(obj) {\r\n  var length = !!obj && 'length' in obj && obj.length,\r\n    typeRes = type(obj);\r\n\r\n  return 'function' != typeRes && !isWindow(obj) && (\r\n    'array' == typeRes || length === 0 ||\r\n    (typeof length == 'number' && length > 0 && (length - 1) in obj)\r\n  )\r\n}\r\n\r\nfunction compact(array) {\r\n  return filter.call(array, function (item) {\r\n    return item != null\r\n  })\r\n}\r\n\r\nfunction flatten(array) {\r\n  return array.length > 0 ? D.fn.concat.apply([], array) : array\r\n}\r\n\r\nfunction dasherize(str) {\r\n  return str.replace(/::/g, '/')\r\n    .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\r\n    .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\r\n    .replace(/_/g, '-')\r\n    .toLowerCase()\r\n}\r\n\r\nfunction maybeAddPx(name, value) {\r\n  return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\r\n}\r\n\r\nfunction uniq(array) {\r\n  return filter.call(array, function (item, idx) {\r\n    return array.indexOf(item) == idx\r\n  })\r\n}\r\n\r\nfunction camelize(str) {\r\n  return str.replace(/-+(.)?/g, function (match, chr) {\r\n    return chr ? chr.toUpperCase() : ''\r\n  })\r\n}\r\n\r\nfunction classRE(name) {\r\n  return name in classCache ?\r\n    classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\r\n}\r\n\r\nfunction defaultDisplay(nodeName) {\r\n  var element, display\r\n  if (!elementDisplay[nodeName]) {\r\n    element = document.createElement(nodeName)\r\n    document.body.appendChild(element)\r\n    display = getComputedStyle(element, '').getPropertyValue(\"display\")\r\n    element.parentNode.removeChild(element)\r\n    display == \"none\" && (display = \"block\")\r\n    elementDisplay[nodeName] = display\r\n  }\r\n  return elementDisplay[nodeName]\r\n}\r\n\r\nfunction children(element) {\r\n  return 'children' in element ?\r\n    slice.call(element.children) :\r\n    D.map(element.childNodes, function (node) {\r\n      if (node.nodeType == 1) return node\r\n    })\r\n}\r\n\r\n// \"true\"  => true\r\n// \"false\" => false\r\n// \"null\"  => null\r\n// \"42\"    => 42\r\n// \"42.5\"  => 42.5\r\n// \"08\"    => \"08\"\r\n// JSON    => parse if valid\r\n// String  => self\r\nfunction deserializeValue(value) {\r\n  try {\r\n    return value ?\r\n      value == \"true\" ||\r\n      (value == \"false\" ? false :\r\n        value == \"null\" ? null :\r\n          +value + \"\" == value ? +value :\r\n            /^[\\[\\{]/.test(value) ? JSON.parse(value) :\r\n              value) :\r\n      value\r\n  } catch (e) {\r\n    return value\r\n  }\r\n}\r\nfunction filtered(nodes, selector) {\r\n  return selector == null ? D(nodes) : D(nodes).filter(selector)\r\n}\r\n\r\nfunction funcArg(context, arg, idx, payload) {\r\n  return isFunction(arg) ? arg.call(context, idx, payload) : arg\r\n}\r\n\r\nfunction setAttribute(node, name, value) {\r\n  value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\r\n}\r\n\r\n// access className property while respecting SVGAnimatedString\r\nfunction className(node, value) {\r\n  var klass = node.className || '',\r\n    svg = klass && klass.baseVal !== undefined\r\n\r\n  if (value === undefined) return svg ? klass.baseVal : klass\r\n  svg ? (klass.baseVal = value) : (node.className = value)\r\n}\r\n\r\n/*  Event Usage */\r\nfunction isString(obj) {\r\n  return typeof obj == 'string'\r\n}\r\nfunction returnTrue() {\r\n  return true\r\n}\r\nfunction returnFalse() {\r\n  return false\r\n}\r\n\r\nexport {\r\n  type,\r\n  isFunction,\r\n  isWindow,\r\n  isDocument,\r\n  isObject,\r\n  isPlainObject,\r\n  likeArray,\r\n  compact,\r\n  flatten,\r\n  dasherize,\r\n  maybeAddPx,\r\n  uniq,\r\n  camelize,\r\n  classRE,\r\n  defaultDisplay,\r\n  deserializeValue,\r\n  children,\r\n  filtered,\r\n  funcArg,\r\n  setAttribute,\r\n  className,\r\n  isString,\r\n  returnTrue,\r\n  returnFalse\r\n}\r\n\r\n\r\n","import D from './d-class';\r\n\r\nimport {\r\n    emptyArray,\r\n    concat,\r\n    filter,\r\n    slice,\r\n    document,\r\n    fragmentRE,\r\n    singleTagRE,\r\n    tagExpanderRE,\r\n    rootNodeRE,\r\n    capitalRE,\r\n    methodAttributes,\r\n    adjacencyOperators,\r\n    dimensions,\r\n    containers,\r\n    simpleSelectorRE,\r\n    class2type,\r\n    tempParent,\r\n    propMap,\r\n    isArray\r\n} from './vars';\r\n\r\nimport {\r\n    type,\r\n    isFunction,\r\n    isWindow,\r\n    isDocument,\r\n    isObject,\r\n    isPlainObject,\r\n    likeArray,\r\n    compact,\r\n    flatten,\r\n    dasherize,\r\n    maybeAddPx,\r\n    uniq,\r\n    camelize,\r\n    classRE,\r\n    defaultDisplay,\r\n    deserializeValue,\r\n    children,\r\n    filtered,\r\n    funcArg,\r\n    setAttribute,\r\n    className\r\n} from './utils';\r\n\r\nD.fn = D.prototype = {\r\n    constuctor: D,\r\n    length: 0,\r\n    // Because a collection acts like an array\r\n    // copy over these useful array functions.\r\n    forEach: emptyArray.forEach,\r\n    reduce: emptyArray.reduce,\r\n    push: emptyArray.push,\r\n    sort: emptyArray.sort,\r\n    splice: emptyArray.splice,\r\n    indexOf: emptyArray.indexOf,\r\n    // D's counterpart to jQuery's `$.fn.init` and\r\n    // takes a CSS selector and an optional context (and handles various\r\n    // special cases).\r\n    init: function (selector, context) {\r\n        var dom;\r\n        // If nothing given, return an empty D collection\r\n        if (!selector) {\r\n            return this\r\n        }\r\n        // Optimize for string selectors\r\n        else if (typeof selector == 'string') {\r\n            selector = selector.trim()\r\n            // If it's a html fragment, create nodes from it\r\n            // Note: In both Chrome 21 and Firefox 15, DOM error 12\r\n            // is thrown if the fragment doesn't begin with <\r\n            if (selector[0] == '<' && fragmentRE.test(selector)) {\r\n                dom = D.fragment(selector, RegExp.$1, context);\r\n                selector = null;\r\n            }\r\n            // If there's a context, create a collection on that context first, and select\r\n            // nodes from there\r\n            else if (context !== undefined) {\r\n                return D(context).find(selector)\r\n            }\r\n            // If it's a CSS selector, use it to select nodes.\r\n            else {\r\n                dom = D.qsa(document, selector)\r\n            }\r\n        }\r\n        // If a function is given, call it when the DOM is ready\r\n        else if (isFunction(selector)) {\r\n            return D(document).ready(selector)\r\n        }\r\n        // If a D collection is given, just return it\r\n        else if (D.isD(selector)) {\r\n            return selector\r\n        }\r\n        // normalize array if an array of nodes is given\r\n        else if (isArray(selector)) {\r\n            dom = compact(selector)\r\n        }\r\n        // Wrap DOM nodes.\r\n        else if (isObject(selector)) {\r\n            dom = [selector], selector = null\r\n        }\r\n        // If there's a context, create a collection on that context first, and select\r\n        // nodes from there\r\n        else if (context !== undefined) {\r\n            return D(context).find(selector)\r\n        }\r\n        // And last but no least, if it's a CSS selector, use it to select nodes.\r\n        else {\r\n            dom = D.qsa(document, selector)\r\n        }\r\n        // create a new D collection from the nodes found\r\n        return D.makeArray(dom, selector, this);\r\n    }\r\n}\r\n\r\nD.extend = D.fn.extend = function () {\r\n    var options, name, src, copy, copyIsArray, clone,\r\n        target = arguments[0] || {},\r\n        i = 1,\r\n        length = arguments.length,\r\n        deep = false;\r\n\r\n    // Handle a deep copy situation\r\n    if (typeof target === \"boolean\") {\r\n        deep = target;\r\n\r\n        // Skip the boolean and the target\r\n        target = arguments[i] || {};\r\n        i++;\r\n    }\r\n    // Handle case when target is a string or something (possible in deep copy)\r\n    if (typeof target !== \"object\" && !isFunction(target)) {\r\n        target = {};\r\n    }\r\n    // Extend D itself if only one argument is passed\r\n    if (i === length) {\r\n        target = this;\r\n        i--;\r\n    }\r\n    for (; i < length; i++) {\r\n        // Only deal with non-null/undefined values\r\n        if ((options = arguments[i]) != null) {\r\n            // Extend the base object\r\n            for (name in options) {\r\n                src = target[name];\r\n                copy = options[name];\r\n                // Prevent never-ending loop\r\n                if (target === copy) {\r\n                    continue;\r\n                }\r\n                // Recurse if we're merging plain objects or arrays\r\n                if (deep && copy && (D.isPlainObject(copy) ||\r\n                    (copyIsArray = Array.isArray(copy)))) {\r\n                    if (copyIsArray) {\r\n                        copyIsArray = false;\r\n                        clone = src && Array.isArray(src) ? src : [];\r\n                    } else {\r\n                        clone = src && D.isPlainObject(src) ? src : {};\r\n                    }\r\n                    // Never move original objects, clone them\r\n                    target[name] = D.extend(deep, clone, copy);\r\n                    // Don't bring in undefined values\r\n                } else if (copy !== undefined) {\r\n                    target[name] = copy;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // Return the modified object\r\n    return target;\r\n}\r\n\r\nD.extend({\r\n    type: type,\r\n    isFunction: isFunction,\r\n    isWindow: isWindow,\r\n    isPlainObject: isPlainObject,\r\n    camelCase: camelize,\r\n    isArray: isArray,\r\n    isEmptyObject: function (obj) {\r\n        var name\r\n        for (name in obj) return false\r\n        return true\r\n    },\r\n    isNumeric: function (val) {\r\n        var num = Number(val),\r\n            type = typeof val\r\n        return val != null && type != 'boolean' &&\r\n            (type != 'string' || val.length) &&\r\n            !isNaN(num) && isFinite(num) || false\r\n    },\r\n    inArray: function (elem, array, i) {\r\n        return emptyArray.indexOf.call(array, elem, i)\r\n    },\r\n    trim: function (str) {\r\n        return str == null ? \"\" : String.prototype.trim.call(str)\r\n    },\r\n    noop: function () { },\r\n    map: function (elements, callback) {\r\n        var value, values = [],\r\n            i, key\r\n        if (likeArray(elements))\r\n            for (i = 0; i < elements.length; i++) {\r\n                value = callback(elements[i], i)\r\n                if (value != null) values.push(value)\r\n            }\r\n        else\r\n            for (key in elements) {\r\n                value = callback(elements[key], key)\r\n                if (value != null) values.push(value)\r\n            }\r\n        return flatten(values)\r\n    },\r\n    each: function (elements, callback) {\r\n        var i, key\r\n        if (likeArray(elements)) {\r\n            for (i = 0; i < elements.length; i++)\r\n                if (callback.call(elements[i], i, elements[i]) === false) return elements\r\n        } else {\r\n            for (key in elements)\r\n                if (callback.call(elements[key], key, elements[key]) === false) return elements\r\n        }\r\n\r\n        return elements\r\n    },\r\n    grep: function (elements, callback) {\r\n        return filter.call(elements, callback)\r\n    },\r\n    contains: function () {\r\n        return (document.documentElement.contains\r\n            ? function (parent, node) {\r\n                return parent !== node && parent.contains(node)\r\n            }\r\n            : function (parent, node) {\r\n                while (node && (node = node.parentNode))\r\n                    if (node === parent) return true\r\n                return false\r\n            });\r\n    },\r\n\r\n    // Make DOM Array\r\n    makeArray: function (dom, selector, me) {\r\n        var i, len = dom ? dom.length : 0\r\n        for (i = 0; i < len; i++) me[i] = dom[i]\r\n        me.length = len\r\n        me.selector = selector || ''\r\n        return me;\r\n    },\r\n    // Html -> Node\r\n    fragment: function (html, name, properties) {\r\n        var dom, nodes, container\r\n\r\n        // A special case optimization for a single tag\r\n        if (singleTagRE.test(html)) {\r\n            dom = D(document.createElement(RegExp.$1))\r\n        }\r\n\r\n        if (!dom) {\r\n\r\n            if (html.replace) {\r\n                html = html.replace(tagExpanderRE, \"<$1></$2>\")\r\n            }\r\n\r\n            if (name === undefined) {\r\n                name = fragmentRE.test(html) && RegExp.$1\r\n            }\r\n\r\n            if (!(name in containers)) {\r\n                name = '*'\r\n            }\r\n\r\n            container = containers[name]\r\n            container.innerHTML = '' + html\r\n            dom = D.each(slice.call(container.childNodes), function () {\r\n                container.removeChild(this)\r\n            })\r\n        }\r\n\r\n        if (isPlainObject(properties)) {\r\n            nodes = D(dom)\r\n            D.each(properties, function (key, value) {\r\n                if (methodAttributes.indexOf(key) > -1) nodes[key](value)\r\n                else nodes.attr(key, value)\r\n            })\r\n        }\r\n\r\n        return dom\r\n    },\r\n    // D's CSS selector\r\n    qsa: function (element, selector) {\r\n        var found,\r\n            maybeID = selector[0] == '#',\r\n            maybeClass = !maybeID && selector[0] == '.',\r\n            // Ensure that a 1 char tag name still gets checked\r\n            nameOnly = maybeID || maybeClass ? selector.slice(1) : selector,\r\n            isSimple = simpleSelectorRE.test(nameOnly)\r\n        return (\r\n            // Safari DocumentFragment doesn't have getElementById\r\n            element.getElementById && isSimple && maybeID)\r\n            ? (\r\n                (found = element.getElementById(nameOnly))\r\n                    ? [found]\r\n                    : []\r\n            ) : (\r\n                element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11\r\n            )\r\n                ? []\r\n                : slice.call(\r\n                    // DocumentFragment doesn't have getElementsByClassName/TagName\r\n                    isSimple && !maybeID && element.getElementsByClassName\r\n                        ? maybeClass\r\n                            // If it's simple, it could be a class\r\n                            ? element.getElementsByClassName(nameOnly)\r\n                            // Or a tag\r\n                            : element.getElementsByTagName(selector)\r\n                        // Or it's not simple, and we need to query all\r\n                        : element.querySelectorAll(selector)\r\n                )\r\n    },\r\n    isD: function (object) {\r\n        return object instanceof D\r\n    },\r\n    matches: function (element, selector) {\r\n        if (!selector || !element || element.nodeType !== 1) return false\r\n        var matchesSelector = element.matches || element.webkitMatchesSelector ||\r\n            element.mozMatchesSelector || element.oMatchesSelector ||\r\n            element.matchesSelector\r\n        if (matchesSelector) return matchesSelector.call(element, selector)\r\n        // fall back to performing a selector:\r\n        var match, parent = element.parentNode,\r\n            temp = !parent\r\n        if (temp) (parent = tempParent).appendChild(element)\r\n        match = ~D.qsa(parent, selector).indexOf(element)\r\n        temp && tempParent.removeChild(element)\r\n        return match\r\n    }\r\n});\r\n\r\n// Populate the class2type map\r\nD.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function (i, name) {\r\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase()\r\n});\r\n\r\n// Methods in Prototype\r\nD.fn.extend({\r\n    // ðŸ’” Modify the collection by adding elements to it\r\n    concat: function () {\r\n        var i, value, args = []\r\n        for (i = 0; i < arguments.length; i++) {\r\n            value = arguments[i]\r\n            args[i] = D.isD(value) ? value.toArray() : value\r\n        }\r\n        return concat.apply(D.isD(this) ? this.toArray() : this, args)\r\n    },\r\n    // ðŸ’” `pluck` is borrowed from Prototype.js\r\n    pluck: function (property) {\r\n        return D.map(this, function (el) { return el[property] })\r\n    },\r\n\r\n    /* Traversing */\r\n    // Filtering\r\n    filter: function (selector) {\r\n        if (isFunction(selector)) return this.not(this.not(selector))\r\n        return D(filter.call(this, function (element) {\r\n            return D.matches(element, selector)\r\n        }))\r\n    },\r\n    not: function (selector) {\r\n        var nodes = []\r\n        if (isFunction(selector) && selector.call !== undefined)\r\n            this.each(function (idx) {\r\n                if (!selector.call(this, idx)) nodes.push(this)\r\n            })\r\n        else {\r\n            var excludes = typeof selector == 'string' ? this.filter(selector) :\r\n                (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : D(selector)\r\n            this.forEach(function (el) {\r\n                if (excludes.indexOf(el) < 0) nodes.push(el)\r\n            })\r\n        }\r\n        return D(nodes)\r\n    },\r\n    is: function (selector) {\r\n        return typeof selector == 'string'\r\n            ? this.length > 0 && D.matches(this[0], selector)\r\n            : selector && this.selector == selector.selector\r\n    },\r\n    has: function (selector) {\r\n        return this.filter(function () {\r\n            return isObject(selector) ?\r\n                D.contains(this, selector) :\r\n                D(this).find(selector).size()\r\n        })\r\n    },\r\n    eq: function (idx) {\r\n        return idx === -1 ? this.slice(idx) : this.slice(idx, +idx + 1)\r\n    },\r\n    first: function () {\r\n        var el = this[0]\r\n        return el && !isObject(el) ? el : D(el)\r\n    },\r\n    last: function () {\r\n        var el = this[this.length - 1]\r\n        return el && !isObject(el) ? el : D(el)\r\n    },\r\n    slice: function () {\r\n        return D(slice.apply(this, arguments))\r\n    },\r\n    find: function (selector) {\r\n        var result, $this = this\r\n        if (!selector) result = D()\r\n        else if (typeof selector == 'object')\r\n            result = D(selector).filter(function () {\r\n                var node = this\r\n                return emptyArray.some.call($this, function (parent) {\r\n                    return D.contains(parent, node)\r\n                })\r\n            })\r\n        else if (this.length == 1) result = D(D.qsa(this[0], selector))\r\n        else result = this.map(function () { return D.qsa(this, selector) })\r\n        return result\r\n    },\r\n    // Miscellaneous Traversing\r\n    add: function (selector, context) {\r\n        return D(uniq(this.concat(D(selector, context))))\r\n    },\r\n    contents: function () {\r\n        return this.map(function () { return this.contentDocument || slice.call(this.childNodes) })\r\n    },\r\n    // Tree Traversal\r\n    closest: function (selector, context) {\r\n        var nodes = [],\r\n            collection = typeof selector == 'object' && D(selector)\r\n        this.each(function (_, node) {\r\n            while (node && !(collection ? collection.indexOf(node) >= 0 : D.matches(node, selector)))\r\n                node = node !== context && !isDocument(node) && node.parentNode\r\n            if (node && nodes.indexOf(node) < 0) nodes.push(node)\r\n        })\r\n        return D(nodes)\r\n    },\r\n    parents: function (selector) {\r\n        var ancestors = [],\r\n            nodes = this\r\n        while (nodes.length > 0)\r\n            nodes = D.map(nodes, function (node) {\r\n                if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\r\n                    ancestors.push(node)\r\n                    return node\r\n                }\r\n            })\r\n        return filtered(ancestors, selector)\r\n    },\r\n    parent: function (selector) {\r\n        return filtered(uniq(this.pluck('parentNode')), selector)\r\n    },\r\n    children: function (selector) {\r\n        return filtered(this.map(function () { return children(this) }), selector)\r\n    },\r\n    siblings: function (selector) {\r\n        return filtered(this.map(function (i, el) {\r\n            return filter.call(children(el.parentNode), function (child) { return child !== el })\r\n        }), selector)\r\n    },\r\n    offsetParent: function () {\r\n        return this.map(function () {\r\n            var parent = this.offsetParent || document.body\r\n            while (parent && !rootNodeRE.test(parent.nodeName) && D(parent).css(\"position\") == \"static\")\r\n                parent = parent.offsetParent\r\n            return parent\r\n        })\r\n    },\r\n    prev: function (selector) {\r\n        return D(this.pluck('previousElementSibling')).filter(selector || '*')\r\n    },\r\n    next: function (selector) {\r\n        return D(this.pluck('nextElementSibling')).filter(selector || '*')\r\n    },\r\n\r\n    /* Attribute */\r\n    // General Attributes\r\n    attr: function (name, value) {\r\n        var result\r\n        return (typeof name == 'string' && !(1 in arguments)) ?\r\n            (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\r\n            this.each(function (idx) {\r\n                if (this.nodeType !== 1) return\r\n                if (isObject(name))\r\n                    for (var key in name) setAttribute(this, key, name[key])\r\n                else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\r\n            })\r\n    },\r\n    removeAttr: function (name) {\r\n        return this.each(function () {\r\n            this.nodeType === 1 && name.split(' ').forEach(function (attribute) {\r\n                setAttribute(this, attribute)\r\n            }, this)\r\n        })\r\n    },\r\n    prop: function (name, value) {\r\n        name = propMap[name] || name\r\n        return (typeof name == 'string' && !(1 in arguments)) ?\r\n            (this[0] && this[0][name]) :\r\n            this.each(function (idx) {\r\n                if (isObject(name))\r\n                    for (var key in name) this[propMap[key] || key] = name[key]\r\n                else this[name] = funcArg(this, value, idx, this[name])\r\n            })\r\n    },\r\n    removeProp: function (name) {\r\n        name = propMap[name] || name\r\n        return this.each(function () { delete this[name] })\r\n    },\r\n    val: function (value) {\r\n        if (0 in arguments) {\r\n            if (value == null) value = \"\"\r\n            return this.each(function (idx) {\r\n                this.value = funcArg(this, value, idx, this.value)\r\n            })\r\n        } else {\r\n            return this[0] && (this[0].multiple ?\r\n                D(this[0]).find('option').filter(function () { return this.selected }).pluck('value') :\r\n                this[0].value)\r\n        }\r\n    },\r\n    // Class Attributes\r\n    hasClass: function (name) {\r\n        if (!name) return false\r\n        return emptyArray.some.call(this, function (el) {\r\n            return this.test(className(el))\r\n        }, classRE(name))\r\n    },\r\n    addClass: function (name) {\r\n        var classList = [];\r\n        if (!name) return this\r\n        return this.each(function (idx) {\r\n            if (!('className' in this)) return\r\n            classList = []\r\n            var cls = className(this),\r\n                newName = funcArg(this, name, idx, cls)\r\n            newName.split(/\\s+/g).forEach(function (klass) {\r\n                if (!D(this).hasClass(klass)) classList.push(klass)\r\n            }, this)\r\n            classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\r\n        })\r\n    },\r\n    removeClass: function (name) {\r\n        var classList = [];\r\n        return this.each(function (idx) {\r\n            if (!('className' in this)) return\r\n            if (name === undefined) return className(this, '')\r\n            classList = className(this)\r\n            funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function (klass) {\r\n                classList = classList.replace(classRE(klass), \" \")\r\n            })\r\n            className(this, classList.trim())\r\n        })\r\n    },\r\n    toggleClass: function (name, when) {\r\n        if (!name) return this\r\n        return this.each(function (idx) {\r\n            var $this = D(this),\r\n                names = funcArg(this, name, idx, className(this))\r\n            names.split(/\\s+/g).forEach(function (klass) {\r\n                (when === undefined ? !$this.hasClass(klass) : when) ?\r\n                    $this.addClass(klass) : $this.removeClass(klass)\r\n            })\r\n        })\r\n    },\r\n    // DOM Insertion\r\n    html: function (html) {\r\n        return 0 in arguments ?\r\n            this.each(function (idx) {\r\n                var originHtml = this.innerHTML\r\n                D(this).empty().append(funcArg(this, html, idx, originHtml))\r\n            }) :\r\n            (0 in this ? this[0].innerHTML : null)\r\n    },\r\n    text: function (text) {\r\n        return 0 in arguments ?\r\n            this.each(function (idx) {\r\n                var newText = funcArg(this, text, idx, this.textContent)\r\n                this.textContent = newText == null ? '' : '' + newText\r\n            }) :\r\n            (0 in this ? this.pluck('textContent').join(\"\") : null)\r\n    },\r\n\r\n    /* CSS */\r\n    css: function (property, value) {\r\n        if (arguments.length < 2) {\r\n            var element = this[0]\r\n            if (typeof property == 'string') {\r\n                if (!element) return\r\n                return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\r\n            } else if (isArray(property)) {\r\n                if (!element) return\r\n                var props = {}\r\n                var computedStyle = getComputedStyle(element, '');\r\n                D.each(property, function (_, prop) {\r\n                    props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\r\n                });\r\n                return props\r\n            }\r\n        }\r\n\r\n        var css = ''\r\n        if (type(property) == 'string') {\r\n            if (!value && value !== 0) {\r\n                this.each(function () {\r\n                    this.style.removeProperty(dasherize(property));\r\n                });\r\n            } else {\r\n                css = dasherize(property) + \":\" + maybeAddPx(property, value)\r\n            }\r\n        } else {\r\n            for (var key in property) {\r\n                if (!property[key] && property[key] !== 0) {\r\n                    this.each(function () { this.style.removeProperty(dasherize(key)) })\r\n                } else {\r\n                    css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\r\n                }\r\n            }\r\n        }\r\n\r\n        return this.each(function () { this.style.cssText += ';' + css })\r\n    },\r\n    offset: function (coordinates) {\r\n        if (coordinates) return this.each(function (index) {\r\n            var $this = D(this),\r\n                coords = funcArg(this, coordinates, index, $this.offset()),\r\n                parentOffset = $this.offsetParent().offset(),\r\n                props = {\r\n                    top: coords.top - parentOffset.top,\r\n                    left: coords.left - parentOffset.left\r\n                }\r\n\r\n            if ($this.css('position') == 'static') props['position'] = 'relative'\r\n            $this.css(props)\r\n        })\r\n        if (!this.length) return null\r\n        if (document.documentElement !== this[0] && !D.contains(document.documentElement, this[0]))\r\n            return { top: 0, left: 0 }\r\n        var obj = this[0].getBoundingClientRect()\r\n        return {\r\n            left: obj.left + window.pageXOffset,\r\n            top: obj.top + window.pageYOffset,\r\n            width: Math.round(obj.width),\r\n            height: Math.round(obj.height)\r\n        }\r\n    },\r\n    position: function () {\r\n        if (!this.length) return\r\n\r\n        var elem = this[0],\r\n            // Get *real* offsetParent\r\n            offsetParent = this.offsetParent(),\r\n            // Get correct offsets\r\n            offset = this.offset(),\r\n            parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\r\n\r\n        // Subtract element margins\r\n        // note: when an element has margin: auto the offsetLeft and marginLeft\r\n        // are the same in Safari causing offset.left to incorrectly be 0\r\n        offset.top -= parseFloat(D(elem).css('margin-top')) || 0\r\n        offset.left -= parseFloat(D(elem).css('margin-left')) || 0\r\n\r\n        // Add offsetParent borders\r\n        parentOffset.top += parseFloat(D(offsetParent[0]).css('border-top-width')) || 0\r\n        parentOffset.left += parseFloat(D(offsetParent[0]).css('border-left-width')) || 0\r\n\r\n        // Subtract the two offsets\r\n        return {\r\n            top: offset.top - parentOffset.top,\r\n            left: offset.left - parentOffset.left\r\n        }\r\n    },\r\n    scrollTop: function (value) {\r\n        if (!this.length) return\r\n        var hasScrollTop = 'scrollTop' in this[0]\r\n        if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\r\n        return this.each(hasScrollTop ?\r\n            function () { this.scrollTop = value } :\r\n            function () { this.scrollTo(this.scrollX, value) })\r\n    },\r\n    scrollLeft: function (value) {\r\n        if (!this.length) return\r\n        var hasScrollLeft = 'scrollLeft' in this[0]\r\n        if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\r\n        return this.each(hasScrollLeft ?\r\n            function () { this.scrollLeft = value } :\r\n            function () { this.scrollTo(value, this.scrollY) })\r\n    },\r\n\r\n    /* DOM */\r\n    remove: function () {\r\n        return this.each(function () {\r\n            if (this.parentNode != null)\r\n                this.parentNode.removeChild(this)\r\n        })\r\n    },\r\n    empty: function () {\r\n        return this.each(function () { this.innerHTML = '' })\r\n    },\r\n    clone: function () {\r\n        return this.map(function () { return this.cloneNode(true) })\r\n    },\r\n    wrap: function (structure) {\r\n        var func = isFunction(structure)\r\n        if (this[0] && !func)\r\n            var dom = D(structure).get(0),\r\n                clone = dom.parentNode || this.length > 1\r\n\r\n        return this.each(function (index) {\r\n            D(this).wrapAll(\r\n                func ? structure.call(this, index) :\r\n                    clone ? dom.cloneNode(true) : dom\r\n            )\r\n        })\r\n    },\r\n    wrapAll: function (structure) {\r\n        if (this[0]) {\r\n            D(this[0]).before(structure = D(structure))\r\n            var children\r\n            // drill down to the inmost element\r\n            while ((children = structure.children()).length) structure = children.first()\r\n            D(structure).append(this)\r\n        }\r\n        return this\r\n    },\r\n    wrapInner: function (structure) {\r\n        var func = isFunction(structure)\r\n        return this.each(function (index) {\r\n            var self = D(this),\r\n                contents = self.contents(),\r\n                dom = func ? structure.call(this, index) : structure\r\n            contents.length ? contents.wrapAll(dom) : self.append(dom)\r\n        })\r\n    },\r\n    unwrap: function () {\r\n        this.parent().each(function () {\r\n            D(this).replaceWith(D(this).children())\r\n        })\r\n        return this\r\n    },\r\n    replaceWith: function (newContent) {\r\n        return this.before(newContent).remove()\r\n    },\r\n\r\n    /* Miscellaneous */\r\n    toArray: function () {\r\n        return this.get()\r\n    },\r\n    each: function (callback) {\r\n        emptyArray.every.call(this, function (el, idx) {\r\n            return callback.call(el, idx, el) !== false\r\n        })\r\n        return this\r\n    },\r\n    map: function (fn) {\r\n        return D(\r\n            D.map(this, function (el, i) { return fn.call(el, i, el) })\r\n        )\r\n    },\r\n    get: function (idx) {\r\n        return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\r\n    },\r\n    size: function () {\r\n        return this.length\r\n    },\r\n    index: function (element) {\r\n        return element ? this.indexOf(D(element)[0]) : this.parent().children().indexOf(this[0])\r\n    },\r\n\r\n    /* Events */\r\n    ready: function (callback) {\r\n        // don't use \"interactive\" on IE <= 10 (it can fired premature)\r\n        if (document.readyState === \"complete\" ||\r\n            (document.readyState !== \"loading\" && !document.documentElement.doScroll))\r\n            setTimeout(function () { callback(D) }, 0)\r\n        else {\r\n            var handler = function () {\r\n                document.removeEventListener(\"DOMContentLoaded\", handler, false)\r\n                window.removeEventListener(\"load\", handler, false)\r\n                callback(D)\r\n            }\r\n            document.addEventListener(\"DOMContentLoaded\", handler, false)\r\n            window.addEventListener(\"load\", handler, false)\r\n        }\r\n        return this\r\n    },\r\n\r\n    /* Data */\r\n    data: function (name, value) {\r\n        var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\r\n\r\n        var data = (1 in arguments) ?\r\n            this.attr(attrName, value) :\r\n            this.attr(attrName)\r\n\r\n        return data !== null ? deserializeValue(data) : undefined\r\n    },\r\n\r\n    /* Effects */\r\n    show: function () {\r\n        return this.each(function () {\r\n            this.style.display == \"none\" && (this.style.display = '')\r\n            if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\r\n                this.style.display = defaultDisplay(this.nodeName)\r\n        })\r\n    },\r\n    hide: function () {\r\n        return this.css(\"display\", \"none\")\r\n    },\r\n});\r\n\r\ndimensions.forEach(function (dimension) {\r\n    var dimensionProperty =\r\n        dimension.replace(/./, function (m) { return m[0].toUpperCase() })\r\n\r\n    D.fn[dimension] = function (value) {\r\n        var offset, el = this[0]\r\n        if (value === undefined) return isWindow(el)\r\n            ? el['inner' + dimensionProperty]\r\n            : isDocument(el)\r\n                ? el.documentElement['scroll' + dimensionProperty]\r\n                : parseFloat(this.css(dimension))\r\n        else return this.each(function (idx) {\r\n            el = D(this)\r\n            el.css(dimension, funcArg(this, value, idx, el[dimension]()))\r\n        })\r\n    }\r\n})\r\n\r\nfunction traverseNode(node, fn) {\r\n    fn(node)\r\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\r\n        traverseNode(node.childNodes[i], fn)\r\n}\r\n\r\n// Generate the `after`, `prepend`, `before`, `append`,\r\n// `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\r\nadjacencyOperators.forEach(function (operator, operatorIndex) {\r\n    var inside = operatorIndex % 2 //=> prepend, append\r\n\r\n    D.fn[operator] = function () {\r\n        // arguments can be nodes, arrays of nodes, D objects and HTML strings\r\n        var argType,\r\n            nodes = D.map(arguments, function (arg) {\r\n                var arr = []\r\n                argType = type(arg)\r\n                if (argType == \"array\") {\r\n                    arg.forEach(function (el) {\r\n                        if (el.nodeType !== undefined) return arr.push(el)\r\n                        else if (D.isD(el)) return arr = arr.concat(el.get())\r\n                        arr = arr.concat(D.fragment(el))\r\n                    })\r\n                    return arr\r\n                }\r\n\r\n                return argType == \"object\" || arg == null\r\n                    ? arg\r\n                    : D.fragment(arg)\r\n            }),\r\n            parent,\r\n            copyByClone = this.length > 1;\r\n\r\n        if (nodes.length < 1) return this\r\n\r\n        return this.each(function (_, target) {\r\n            parent = inside ? target : target.parentNode\r\n\r\n            // convert all methods to a \"before\" operation\r\n            target = operatorIndex == 0\r\n                ? target.nextSibling\r\n                : operatorIndex == 1\r\n                    ? target.firstChild\r\n                    : operatorIndex == 2\r\n                        ? target : null\r\n\r\n            var parentInDocument = D.contains(document.documentElement, parent)\r\n\r\n            nodes.forEach(function (node) {\r\n\r\n                if (copyByClone) {\r\n                    node = node.cloneNode(true)\r\n                } else if (!parent) {\r\n                    return D(node).remove()\r\n                }\r\n\r\n                parent.insertBefore(node, target)\r\n\r\n                if (parentInDocument) {\r\n                    traverseNode(node, function (el) {\r\n                        if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\r\n                            (!el.type || el.type === 'text/javascript') && !el.src) {\r\n                            var target = el.ownerDocument ? el.ownerDocument.defaultView : window\r\n                            target['eval'].call(target, el.innerHTML)\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    // after    => insertAfter\r\n    // prepend  => prependTo\r\n    // before   => insertBefore\r\n    // append   => appendTo\r\n    D.fn[inside ? operator + 'To' : 'insert' + (operatorIndex ? 'Before' : 'After')] = function (html) {\r\n        D(html)[operator](this)\r\n        return this\r\n    }\r\n});\r\n\r\nD.fn.init.prototype = D.fn;\r\n","import D from './d-class';\r\n\r\nimport {\r\n  slice,\r\n  handlers,\r\n  specialEvents,\r\n  focusinSupported,\r\n  focus,\r\n  hover,\r\n  ignoreProperties,\r\n  eventMethods,\r\n} from './vars';\r\n\r\nimport {\r\n  isFunction,\r\n  isString,\r\n  returnTrue,\r\n  returnFalse\r\n} from './utils';\r\n\r\nvar _zid = 1;\r\nfunction zid(element) {\r\n  return element._zid || (element._zid = _zid++)\r\n}\r\nfunction findHandlers(element, event, fn, selector) {\r\n  event = parse(event)\r\n  if (event.ns) var matcher = matcherFor(event.ns)\r\n  return (handlers[zid(element)] || []).filter(function (handler) {\r\n    return handler\r\n      && (!event.e || handler.e == event.e)\r\n      && (!event.ns || matcher.test(handler.ns))\r\n      && (!fn || zid(handler.fn) === zid(fn))\r\n      && (!selector || handler.sel == selector)\r\n  })\r\n}\r\nfunction parse(event) {\r\n  var parts = ('' + event).split('.')\r\n  return { e: parts[0], ns: parts.slice(1).sort().join(' ') }\r\n}\r\nfunction matcherFor(ns) {\r\n  return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\r\n}\r\n\r\nfunction eventCapture(handler, captureSetting) {\r\n  return handler.del &&\r\n    (!focusinSupported && (handler.e in focus)) ||\r\n    !!captureSetting\r\n}\r\n\r\nfunction realEvent(type) {\r\n  return hover[type] || (focusinSupported && focus[type]) || type\r\n}\r\n\r\nfunction add(element, events, fn, data, selector, delegator, capture) {\r\n  var id = zid(element), set = (handlers[id] || (handlers[id] = []))\r\n  events.split(/\\s/).forEach(function (event) {\r\n    if (event == 'ready') return D(document).ready(fn)\r\n    var handler = parse(event)\r\n    handler.fn = fn\r\n    handler.sel = selector\r\n    // emulate mouseenter, mouseleave\r\n    if (handler.e in hover) fn = function (e) {\r\n      var related = e.relatedTarget\r\n      if (!related || (related !== this && !D.contains(this, related)))\r\n        return handler.fn.apply(this, arguments)\r\n    }\r\n    handler.del = delegator\r\n    var callback = delegator || fn\r\n    handler.proxy = function (e) {\r\n      e = compatible(e)\r\n      if (e.isImmediatePropagationStopped()) return\r\n      e.data = data\r\n      var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\r\n      if (result === false) e.preventDefault(), e.stopPropagation()\r\n      return result\r\n    }\r\n    handler.i = set.length\r\n    set.push(handler)\r\n    if ('addEventListener' in element)\r\n      element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\r\n  })\r\n}\r\nfunction remove(element, events, fn, selector, capture) {\r\n  var id = zid(element)\r\n    ; (events || '').split(/\\s/).forEach(function (event) {\r\n      findHandlers(element, event, fn, selector).forEach(function (handler) {\r\n        delete handlers[id][handler.i]\r\n        if ('removeEventListener' in element)\r\n          element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\r\n      })\r\n    })\r\n}\r\n\r\nfunction compatible(event, source) {\r\n  if (source || !event.isDefaultPrevented) {\r\n    source || (source = event)\r\n\r\n    D.each(eventMethods, function (name, predicate) {\r\n      var sourceMethod = source[name]\r\n      event[name] = function () {\r\n        this[predicate] = returnTrue\r\n        return sourceMethod && sourceMethod.apply(source, arguments)\r\n      }\r\n      event[predicate] = returnFalse\r\n    })\r\n\r\n    try {\r\n      event.timeStamp || (event.timeStamp = Date.now())\r\n    } catch (ignored) { }\r\n\r\n    if (source.defaultPrevented !== undefined ? source.defaultPrevented :\r\n      'returnValue' in source ? source.returnValue === false :\r\n        source.getPreventDefault && source.getPreventDefault())\r\n      event.isDefaultPrevented = returnTrue\r\n  }\r\n  return event\r\n}\r\n\r\nfunction createProxy(event) {\r\n  var key, proxy = { originalEvent: event }\r\n  for (key in event)\r\n    if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\r\n\r\n  return compatible(proxy, event)\r\n}\r\n\r\nD.event = { add: add, remove: remove }\r\n\r\nD.Event = function (type, props) {\r\n  if (!isString(type)) props = type, type = props.type\r\n  var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\r\n  if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\r\n  event.initEvent(type, bubbles, true)\r\n  return compatible(event)\r\n}\r\n\r\nD.proxy = function (fn, context) {\r\n  var args = (2 in arguments) && slice.call(arguments, 2)\r\n  if (isFunction(fn)) {\r\n    var proxyFn = function () { return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\r\n    proxyFn._zid = zid(fn)\r\n    return proxyFn\r\n  } else if (isString(context)) {\r\n    if (args) {\r\n      args.unshift(fn[context], fn)\r\n      return D.proxy.apply(null, args)\r\n    } else {\r\n      return D.proxy(fn[context], fn)\r\n    }\r\n  } else {\r\n    throw new TypeError(\"expected function\")\r\n  }\r\n}\r\n\r\nD.fn.one = function (event, selector, data, callback) {\r\n  return this.on(event, selector, data, callback, 1)\r\n}\r\n\r\nD.fn.on = function (event, selector, data, callback, one) {\r\n  var autoRemove, delegator, $this = this\r\n  if (event && !isString(event)) {\r\n    D.each(event, function (type, fn) {\r\n      $this.on(type, selector, data, fn, one)\r\n    })\r\n    return $this\r\n  }\r\n\r\n  if (!isString(selector) && !isFunction(callback) && callback !== false)\r\n    callback = data, data = selector, selector = undefined\r\n  if (callback === undefined || data === false)\r\n    callback = data, data = undefined\r\n\r\n  if (callback === false) callback = returnFalse\r\n\r\n  return $this.each(function (_, element) {\r\n    if (one) autoRemove = function (e) {\r\n      remove(element, e.type, callback)\r\n      return callback.apply(this, arguments)\r\n    }\r\n\r\n    if (selector) delegator = function (e) {\r\n      var evt, match = D(e.target).closest(selector, element).get(0)\r\n      if (match && match !== element) {\r\n        evt = D.extend(createProxy(e), { currentTarget: match, liveFired: element })\r\n        return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\r\n      }\r\n    }\r\n\r\n    add(element, event, callback, data, selector, delegator || autoRemove)\r\n  })\r\n}\r\n\r\nD.fn.off = function (event, selector, callback) {\r\n  var $this = this\r\n  if (event && !isString(event)) {\r\n    D.each(event, function (type, fn) {\r\n      $this.off(type, selector, fn)\r\n    })\r\n    return $this\r\n  }\r\n\r\n  if (!isString(selector) && !isFunction(callback) && callback !== false)\r\n    callback = selector, selector = undefined\r\n\r\n  if (callback === false) callback = returnFalse\r\n\r\n  return $this.each(function () {\r\n    remove(this, event, callback, selector)\r\n  })\r\n}\r\n\r\nD.fn.trigger = function (event, args) {\r\n  event = (isString(event) || D.isPlainObject(event)) ? D.Event(event) : compatible(event)\r\n  event._args = args\r\n  return this.each(function () {\r\n    // handle focus(), blur() by calling them directly\r\n    if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\r\n    // items in the collection might not be DOM elements\r\n    else if ('dispatchEvent' in this) this.dispatchEvent(event)\r\n    else D(this).triggerHandler(event, args)\r\n  })\r\n}\r\n\r\n// triggers event handlers on current element just as if an event occurred,\r\n// doesn't trigger an actual event, doesn't bubble\r\nD.fn.triggerHandler = function (event, args) {\r\n  var e, result\r\n  this.each(function (i, element) {\r\n    e = createProxy(isString(event) ? D.Event(event) : event)\r\n    e._args = args\r\n    e.target = element\r\n    D.each(findHandlers(element, event.type || event), function (i, handler) {\r\n      result = handler.proxy(e)\r\n      if (e.isImmediatePropagationStopped()) return false\r\n    })\r\n  })\r\n  return result\r\n}\r\n\r\n  // shortcut methods for `.on(event, fn)` for each event type\r\n  ; ('focusin focusout focus blur load resize scroll unload click dblclick ' +\r\n    'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' +\r\n    'change select keydown keypress keyup error').split(' ').forEach(function (event) {\r\n      D.fn[event] = function (callback) {\r\n        return (0 in arguments) ?\r\n          this.on(event, callback) :\r\n          this.trigger(event)\r\n      }\r\n    })\r\n","import D from './d-class';\r\nimport './core';\r\nimport './event';\r\n\r\nwindow.D = window.$ = D;\r\n\r\nexport default D;"],"names":["D","selector","context","fn","init","emptyArray","concat","filter","slice","document","window","elementDisplay","classCache","cssNumber","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","dimensions","table","createElement","tableRow","containers","simpleSelectorRE","class2type","toString","tempParent","propMap","isArray","Array","arg","Object","prototype","call","handlers","specialEvents","click","mousedown","mouseup","mousemove","focusinSupported","focus","blur","hover","mouseenter","mouseleave","ignoreProperties","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","type","obj","String","isFunction","value","isWindow","isDocument","nodeType","DOCUMENT_NODE","isObject","isPlainObject","getPrototypeOf","likeArray","length","typeRes","compact","array","item","flatten","apply","dasherize","str","replace","toLowerCase","maybeAddPx","name","uniq","idx","indexOf","camelize","match","chr","toUpperCase","classRE","RegExp","defaultDisplay","nodeName","element","display","body","appendChild","getComputedStyle","getPropertyValue","parentNode","removeChild","children","map","childNodes","node","deserializeValue","test","JSON","parse","e","filtered","nodes","funcArg","payload","setAttribute","removeAttribute","className","klass","svg","baseVal","undefined","isString","returnTrue","returnFalse","constuctor","forEach","reduce","push","sort","splice","dom","trim","fragment","$1","find","qsa","ready","isD","makeArray","extend","options","src","copy","copyIsArray","clone","target","arguments","i","deep","camelCase","isEmptyObject","isNumeric","val","num","Number","isNaN","isFinite","inArray","elem","noop","elements","callback","values","key","each","grep","contains","documentElement","parent","me","len","html","properties","container","innerHTML","attr","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","object","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","temp","split","args","toArray","pluck","property","el","not","excludes","is","has","size","eq","first","last","result","$this","some","add","contents","contentDocument","closest","collection","_","parents","ancestors","siblings","child","offsetParent","css","prev","next","getAttribute","removeAttr","attribute","prop","removeProp","multiple","selected","hasClass","addClass","classList","cls","newName","join","removeClass","toggleClass","when","names","originHtml","empty","append","text","newText","textContent","style","props","computedStyle","removeProperty","cssText","offset","coordinates","index","coords","parentOffset","top","left","getBoundingClientRect","pageXOffset","pageYOffset","width","Math","round","height","position","parseFloat","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","remove","cloneNode","wrap","structure","func","get","wrapAll","before","wrapInner","self","unwrap","replaceWith","newContent","every","readyState","doScroll","setTimeout","handler","removeEventListener","addEventListener","data","attrName","show","hide","dimension","dimensionProperty","m","traverseNode","operator","operatorIndex","inside","argType","arr","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","ownerDocument","defaultView","_zid","zid","findHandlers","event","ns","matcher","matcherFor","sel","parts","eventCapture","captureSetting","del","realEvent","events","delegator","capture","id","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","_args","source","isDefaultPrevented","predicate","sourceMethod","timeStamp","Date","now","ignored","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","Event","createEvent","bubbles","initEvent","proxyFn","unshift","TypeError","one","on","autoRemove","evt","currentTarget","liveFired","off","trigger","dispatchEvent","triggerHandler","$"],"mappings":"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"}